This is the outline of a framework that will allow general distance metrics to be incorporated into scikit-learn BallTree.  The idea is that we need a fast way to compute the distance between two points under a given metric.  In the basic framework here, this involves creating an object which exposes C-pointers to a function and a parameter structure so that the distance function can be called from either python or directly from cython with no python overhead.